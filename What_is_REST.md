# 什么是REST
REST架构的风格可以总体的描述为六个约束，这些适用于软件架构的约束最初由Roy Fieding在他的博士论文中提出[详见](http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm)，他同时还在论文中定义了RESTful风格的基础。  
REST架构风格的六个约束分别是：
- 接口统一
- 无状态
- 可缓存
- 客户端-服务器模式
- 分层系统
- 按需编码
对以上约束的更详细的讨论将在下面一一阐述。

## 接口统一
接口统一约束定义了客户端和服务器之间的接口，它使客户端和服务器之间实现了架构解耦，每个部件都能独立使用。接口统一的四个指导原则是：
### 基于资源
使用URI作为资源标识符在请求中标识各个资源，资源本身在概念上与返回给客户端的资源分开表示。例如，服务器不会直接将数据库内容发送给客户端，而是使用一些HTML/XML/JSON等格式表示某些数据库记录，使用UTF-8来完成编码，但这取决于请求细节和服务器的具体实现。
### 通过代理操纵资源
当客户端持有一个包括附加的任何元数据的资源的表示（即代理）时，它将获得足够的信息来修改或删除服务器上的资源，只要它有这样的权限。译者注：作者的意思是，可以通过客户端的某些资源的代理，通过操作这些代理来完成对服务器上资源的修改和删除。
### 自描述性信息
每条消息都应当包含足够的信息来描述如何处理该消息。 例如，要调用的解析器可以由Internet媒体类型（以前称为MIME类型）指定，Response还可以明确指出了它们的缓存能力。
### 超媒体作为应用程序状态引擎（HATEOAS）
客户端通过内容、查询参数、请求头和请求的URI来提供客户端的状态指示，服务通过内容、响应代码和响应头向客户端提供状态。这在技术上被称为超媒体（或超文本中的超链接）。除此之外，HATEOS还意味着，在必要时在返回的content（或header）中包含链接，以提供用于检索对象本身或相关对象的URI。关于这一点，后面会有更详细的讨论。任何REST服务设计的基础是必须提供统一的接口。
## 无状态
从REST（Representational State Transfer）的名字就能看出来，无状态是其很关键的一部分。本质上，这意味着处理请求的必要状态包含在请求本身中，无论是作为URI，还是查询字符串参数，亦或者content或header的一部分。URI（URI是统一资源定位符的英文缩写）唯一地标识资源，并且body包含标识该资源的状态，在服务器处理之后，通过响应头、相应状态和响应体将适当的状态或重要的状态片段传送回客户端。我们中大多数人在编程这个行业中已经习惯了在“容器”中编程，它为我们提供了Session的概念，因为它可以在多个HTTP请求之间保持状态。但在REST中，客户端必须包含符合服务器请求的所有信息，如果该状态必须跨越多个请求，则需要重新发送状态。无状态可以实现更高的可伸缩性，因为不必维护服务端的状态更新或传递Session状态。此外，负载均衡组件也不必担心它和无状态系统的Session之间的兼容性。  
那么状态和资源之间的区别是什么呢？状态或应用程序状态是服务器关心的，以满足当前会话或请求所需的请求数据。资源或资源状态是定义资源表示的数据 - 例如，存储在数据库中的数据。将应用程序状态视为可能因客户端和每个请求而有所不同的数据。另一方面，资源状态在请求它的每个客户端之间都是不变的。  
曾经有一个Web应用程序的后退按钮问题，因为程序希望某些操作被顺序执行，当某一时刻点击后退按钮时就会出现程序擅离职守（AWOL）的情况，这是因为程序违背了无状态原则。有些情况下不遵守无状态原则，例如3-legged授权、API调用频率限制等等。因此，需要尽一切努力确保应用程序状态不必跨域多个服务。【译者注：3-legged授权是一种OAuth的实现方式】  
## 可缓存
就和万维网一样，客户端可以缓存响应。因此，响应必须隐式或显式地将自身定义为可缓存或不可缓存，以防止客户端重用陈旧或不适当的数据以响应进一步的请求。管理良好的缓存可以部分或完全消除了一些客户端-服务器交互，进一步提高了可扩展性和性能。
## 客户端-服务器模式
统一接口将客户端与服务器分开。这种值得被关注的分离意味着，客户端不关心数据存储，数据存储仍然是每个服务器的内部的功能，从而提高了客户端代码的可移植性。另一方面，服务器不关心用户界面或用户状态，因此服务器可以更简单，更具扩展性。只要不改变接口，服务器和客户端可以各自独立开发，并被替换。【译者注：这里提到的内容其实就是目前很流行的前后端分离，后端开发人员一旦将接口定义完成，前后端就各自完成各自功能的开发，而不再产生任何交集，他们之间的唯一沟通就是通过接口传输的数据。在保持接口不变的情况下，前后端程序可以被替换，都能保持程序的整体功能不变。】  
## 分层系统
客户端通常无法判断它是否直接连接了端服务器还是沿途的中间服务。中间服务可以通过启用负载均衡和提供可共享的高速缓存来提高系统可扩展性。【译者注：即客户端无法判断连接的另一方的具体角色，是中间件还是最终实现功能或落库的服务器】
## 按需编码
服务器能够通过将逻辑转移到它可以执行的客户端来临时扩展或定制客户端的功能，这方面的示例可以包括编译的组件，如Java applet和客户端脚本（如JavaScript）。  

遵守这些约束，从而符合REST架构风格，将使任何类型的分布式超媒体系统具有理想的应急特性，例如性能，可伸缩性，简单性，可修改性，可见性，可移植性和可靠性。  
注意：REST架构唯一的可选约束是按需编码。如果服务违反其他五项约束中的任何一个约束，严格来说，都不能被称为REST。